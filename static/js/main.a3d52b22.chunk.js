(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/error.22389cf4.jpg"},33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},40:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),o=a(65),s=a(63),i=a(64),u=(a(38),a(4)),m=a(5),h=a(9),d=a(8),f=a(10),p=a(66),E=(a(40),a(7)),v=a.n(E),g=a(18),b=function(){function e(){var t=this;Object(u.a)(this,e),this.getResource=function(){var e=Object(g.a)(v.a.mark(function e(a){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.getAllBooks=Object(g.a)(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformBook));case 4:case"end":return e.stop()}},e,this)})),this.getBook=function(){var e=Object(g.a)(v.a.mark(function e(a){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformBook(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(g.a)(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters?page=5&pageSize=10");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformCharacter));case 4:case"end":return e.stop()}},e,this)})),this.getCharacter=function(){var e=Object(g.a)(v.a.mark(function e(a){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformCharacter(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.getAllHouses=Object(g.a)(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformHouse));case 4:case"end":return e.stop()}},e,this)})),this.getHouse=function(){var e=Object(g.a)(v.a.mark(function e(a){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformHouse(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this._transformCharacter=function(e){return{name:t.isCheck(e.name),gender:t.isCheck(e.gender),born:t.isCheck(e.born),died:t.isCheck(e.died),culture:t.isCheck(e.culture)}},this._transformHouse=function(e){return{name:t.isCheck(e.name),region:t.isCheck(e.region),words:t.isCheck(e.words),overlord:t.isCheck(e.overlord),coatOfArms:t.isCheck(e.coatOfArms)}},this._transformBook=function(e){return{name:t.isCheck(e.name),numberOfPages:t.isCheck(e.numberOfPages),publisher:t.isCheck(e.publisher),released:t.isCheck(e.released.slice(0,10))}},this._apiBase="https://www.anapioficeandfire.com/api"}return Object(m.a)(e,[{key:"isCheck",value:function(e){return""!==e?e:"no data :("}}]),e}(),k=(a(44),a(29)),j=a.n(k),C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:j.a,alt:"error"}),r.a.createElement("span",null,"Something goes wrong :("))},O=(a(46),function(){return r.a.createElement("div",{className:"loadingio-spinner-spin-7530v5rdyvp"},r.a.createElement("div",{className:"ldio-ge2jk2zrgy"},r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null))))}),y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new b,a.state={char:{},loading:!0,error:!1},a.onCharLoaded=function(e){a.setState({char:e,loading:!1})},a.onError=function(e){a.setState({error:!0,loading:!1})},a.updateChar=function(){var e=Math.floor(140*Math.random()+25);a.gotService.getCharacter(e).then(a.onCharLoaded).catch(a.onError)},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.updateChar(),this.timerId=setInterval(this.updateChar,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.state,t=e.char,a=e.loading,n=e.error,l=n?r.a.createElement(C,null):null,c=a?r.a.createElement(O,null):null,o=a||n?null:r.a.createElement(w,{char:t});return r.a.createElement("div",{className:"random-block rounded"},l,c,o)}}]),t}(n.Component),w=function(e){var t=e.char,a=t.name,n=t.gender,l=t.born,c=t.died,o=t.culture;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Random Character: ",a),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Gender"),r.a.createElement("span",null,n)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Born "),r.a.createElement("span",null,l)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Died "),r.a.createElement("span",null,c)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Culture "),r.a.createElement("span",null,o))))},I=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={randomChar:!0},a.onToggle=function(){a.setState(function(e){return{randomChar:!e.randomChar}})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.randomChar?r.a.createElement(y,null):null;return r.a.createElement(r.a.Fragment,null,e,r.a.createElement(p.a,{onClick:this.onToggle,color:"primary",size:"lg",block:!0},"Toggle Character"))}}]),t}(n.Component),S=(a(50),function(e){var t=e.item,a=e.field,n=e.label;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},n),r.a.createElement("span",null,t[a]))}),N=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={item:null,loading:!1,error:!1},a.onError=function(){a.setState({error:!0,loading:!1})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e){e.itemId!==this.props.itemId&&this.updateItem()}},{key:"ItemLoading",value:function(){this.setState({loading:!0})}},{key:"updateItem",value:function(){var e=this;if(this.props.itemId){var t=this.props.getData;this.ItemLoading(),t(this.props.itemId).then(function(t){e.setState({item:t,loading:!1})}).catch(this.onError)}}},{key:"render",value:function(){var e=this.state,t=e.item,a=e.loading,n=e.error;if(!t&&!n)return r.a.createElement("div",{className:"select-error"},"please select from the list");var l=n?r.a.createElement(C,null):null,c=a?r.a.createElement(O,null):null,o=a||n?null:r.a.createElement(x,{item:t,children:this.props.children});return r.a.createElement("div",{className:"item-details rounded"},l,c,o)}}]),t}(n.Component),x=function(e){var t=e.item;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,t.name),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.Children.map(e.children,function(e){return r.a.cloneElement(e,{item:t})})))},D=(a(52),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={itemList:null},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getData)().then(function(t){e.setState({itemList:t})})}},{key:"render",value:function(){var e=this;if(!this.state.itemList)return r.a.createElement(O,null);var t=this.state.itemList.map(function(t,a){return r.a.createElement("li",{key:a,className:"list-group-item",onClick:t.gender?e.props.onItemSelected.bind(e,41+a):e.props.onItemSelected.bind(e,1+a)},t.name)});return r.a.createElement("ul",{className:"item-list list-group"},t)}}]),t}(n.Component)),A=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new b,a.state={selectedItem:null,error:!1},a.onItemSelected=function(e){a.setState({selectedItem:e}),console.log(e)},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement(C,null):r.a.createElement(s.a,null,r.a.createElement(i.a,{md:"6"},r.a.createElement(D,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllCharacters})),r.a.createElement(i.a,{md:"6"},r.a.createElement(N,{itemId:this.state.selectedItem,getData:this.gotService.getCharacter},r.a.createElement(S,{field:"gender",label:"Gender"}),r.a.createElement(S,{field:"born",label:"Born"}),r.a.createElement(S,{field:"died",label:"Died"}),r.a.createElement(S,{field:"culture",label:"Culture"}))))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new b,a.state={selectedItem:null,error:!1},a.onItemSelected=function(e){a.setState({selectedItem:e}),console.log(e)},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement(C,null):r.a.createElement(s.a,null,r.a.createElement(i.a,{md:"6"},r.a.createElement(D,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllBooks})),r.a.createElement(i.a,{md:"6"},r.a.createElement(N,{itemId:this.state.selectedItem,getData:this.gotService.getBook},r.a.createElement(S,{field:"name",label:"Name"}),r.a.createElement(S,{field:"numberOfPages",label:"Number of pages"}),r.a.createElement(S,{field:"publisher",label:"Publisher"}),r.a.createElement(S,{field:"released",label:"Released"}))))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).gotService=new b,a.state={selectedItem:null,error:!1},a.onItemSelected=function(e){a.setState({selectedItem:e})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement(C,null):r.a.createElement(s.a,null,r.a.createElement(i.a,{md:"6"},r.a.createElement(D,{onItemSelected:this.onItemSelected,getData:this.gotService.getAllHouses})),r.a.createElement(i.a,{md:"6"},r.a.createElement(N,{itemId:this.state.selectedItem,getData:this.gotService.getHouse},r.a.createElement(S,{field:"name",label:"Name"}),r.a.createElement(S,{field:"region",label:"Region"}),r.a.createElement(S,{field:"words",label:"Words"}),r.a.createElement(S,{field:"overlord",label:"Overlord"}),r.a.createElement(S,{field:"coatOfArms",label:"Coat of arms"}))))}}]),t}(n.Component),R=a(1),H=a(17),L=(a(54),function(){return r.a.createElement("nav",{className:"navigation"},r.a.createElement("div",{className:"main-link"},r.a.createElement(H.b,{to:"/"},"Game of Thrones DB")),r.a.createElement("ul",{className:"links"},r.a.createElement("li",null,r.a.createElement(H.b,{to:"/characters"},"Characters")),r.a.createElement("li",null,r.a.createElement(H.b,{to:"/houses"},"Houses")),r.a.createElement("li",null,r.a.createElement(H.b,{to:"/books"},"Books"))))}),F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(L,null)),r.a.createElement(o.a,null,r.a.createElement(s.a,null,r.a.createElement(i.a,{lg:{size:5,offset:0}},r.a.createElement(I,null))),r.a.createElement(R.a,{path:"/characters",component:A}),r.a.createElement(R.a,{path:"/houses",component:_}),r.a.createElement(R.a,{path:"/books",component:B})))};a(58),a(60);c.a.render(r.a.createElement(H.a,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.a3d52b22.chunk.js.map